<!Doctype HTML>
<html>
<head>
<meta charset="utf-8">
<title></title>
</head>
<body>
<script>

var list = [];
var i = 0;

function User(name, surname, telephone) {
  this.name = name;
  this.surname = surname;
  this.telephone = telephone;
  this.addUser = addUser;
  this.findByTel = findByTel;
  this.updateUserByTel = updateUserByTel;
  this.deleteUser = deleteUser;
}

for(;;){
var flag = prompt("Виберіть потрібний пункт меню:\n1) Додати користувача.\n2) Оновити користувача.\n3) Вивести користувача за номером телефону.\n4) Видалити користувача.\n5) Вивести усіх користувачів.");
switch (flag) {
  case '1':
    addUser();
    break;
  case '2':
    updateUserByTel();
    break;
  case '3':
    findByTel();
    break;
  case '4':
    deleteUser();
    break;
  case '5':
    getAllList();
    break;
  default:
    alert( 'Введіть правильну цифру!' );
}

function addUser() {
  
  var dataname = prompt("Введіть ім'я користувача.");
  var datasurname = prompt("Введіть прізвище користувача.");
  var datatelephone = prompt("Введіть телефон користувача.");
  list[i] = new User(dataname, datasurname, datatelephone);
  i++;
}

function findByTel() {
  datatelephone = prompt("Введіть телефон користувача.");
  for(var j = 0; j < i; j++){
  	if(datatelephone === list[j].telephone){
  		alert(list[j].name + " " + list[j].surname + " " + list[j].telephone);
  		return j;
  	}
  }
  alert("Такого номерy не існує");
  return Infinity;
}

function updateUserByTel() {
  var buf = findByTel();
  if(isFinite(buf))
  {
  var dataname = prompt("Введіть ім'я користувача.");
  var datasurname = prompt("Введіть прізвище користувача.");
  var datatelephone = list[buf].telephone;
  list[buf] = new User(dataname, datasurname, datatelephone);
  alert(list[buf].name + " " + list[buf].surname + " " + list[buf].telephone);
  }
}

function deleteUser() {
  var buf = findByTel();
  if(isFinite(buf)){
  for(var k = buf; k < i-1; k++){
  	list[k].name = list[k+1].name;
  	list[k].surname = list[k+1].surname;
  	list[k].telephone = list[k+1].telephone;
  }
  list.length = i-1;
  i--;}
}

function getAllList(){
	var result = "";
	for(var j = 0; j < i; j++){
		result = result + list[j].name + " " + list[j].surname + " " + list[j].telephone + "\n";
	}
	alert(result);
}

}
</script>
</body>
</html>